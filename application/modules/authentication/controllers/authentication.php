<?php class Authentication extends CI_Controller {     public function __construct() {         parent::__construct();           // Load library template         $this->load->library('template');         // Set template         $this->template->set_template('admin');           // Add CSS and JS         $this->template->add_css('public/admin/css/style.css');         $this->template->add_js('public/admin/js/script.js');        // Add DocType         $this->template->add_doctype();     }	public function index(){		$this->is_login();		redirect('admin/home');	}	public function is_login(){		$user = $this->session->userdata('admin');		if($user==''){			redirect('admin/login');		}	}	public function logout(){		$this->session->unset_userdata('admin');        $this->session->sess_destroy();        redirect('/admin');	}	public function login(){		$this->load->view('login');	}	public function login_now(){		if(isset($_POST['username']) && isset($_POST['password'])){			$username = $this->security->xss_clean($_POST['username']);			$password = $this->security->xss_clean($_POST['password']);			$username = mysql_real_escape_string($username);			$password = mysql_real_escape_string($password);			$result = $this->db->query("select count(*) as record from authentication where UserName = '$username' and PassWord='$password' and Published=1")->row();			if($result->record == 1){				$this->session->set_userdata('admin',$username);				redirect('admin');			}		}		redirect('admin/login?error=1');	}}?>